"use strict";(self.webpackChunkangular_10_17_updated_boilerplate=self.webpackChunkangular_10_17_updated_boilerplate||[]).push([[868],{2868:(Z,u,l)=>{l.r(u),l.d(u,{WorkflowsModule:()=>_});var c=l(6895),i=l(433),p=l(7784),t=l(8256),d=l(529);let f=(()=>{class e{constructor(o){this.http=o,this.baseUrl="/accounts/workflows"}getByEmployeeId(o){return this.http.get(`${this.baseUrl}/employee/${o}`)}updateStatus(o,r){return this.http.put(`${this.baseUrl}/${o}/status`,r)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=l(7110);function m(e,s){1&e&&(t.TgZ(0,"th"),t._uU(1,"Actions"),t.qZA())}function h(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"td")(1,"select",7),t.NdJ("ngModelChange",function(n){t.CHM(o);const a=t.oxw().$implicit;return t.KtG(a.status=n)})("change",function(){t.CHM(o);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.updateStatus(n))}),t.TgZ(2,"option"),t._uU(3,"Pending"),t.qZA(),t.TgZ(4,"option"),t._uU(5,"Approved"),t.qZA(),t.TgZ(6,"option"),t._uU(7,"Rejected"),t.qZA()()()}if(2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",o.status)}}function g(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"json"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.YNc(8,h,8,1,"td",5),t.qZA()),2&e){const o=s.$implicit,r=t.oxw();let n;t.xp6(2),t.Oqu(o.type),t.xp6(2),t.Oqu(t.lcZ(5,4,o.details)),t.xp6(3),t.Oqu(o.status),t.xp6(1),t.Q6J("ngIf","Admin"===(null==(n=r.account())?null:n.role))}}const k=[{path:"",component:(()=>{class e{constructor(o,r,n){this.workflowService=o,this.accountService=r,this.route=n,this.employeeId=0,this.workflows=[]}ngOnInit(){const o=this.route.snapshot.paramMap.get("employeeId");this.employeeId=o?+o:0,this.loadWorkflows()}loadWorkflows(){this.workflowService.getByEmployeeId(this.employeeId).subscribe({next:o=>{this.workflows=o},error:o=>{console.error("Error loading workflows",o)}})}account(){return this.accountService.accountValue}updateStatus(o){this.workflowService.updateStatus(o.id,{status:o.status}).subscribe({next:n=>{console.log("Status updated successfully",n)},error:n=>{console.error("Error updating status",n)}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f),t.Y36(w.B),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-workflow-list"]],decls:17,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-select","d-inline-block","w-auto",3,"ngModel","ngModelChange","change"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th"),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Details"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Status"),t.qZA(),t.YNc(14,m,2,0,"th",5),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,g,9,6,"tr",6),t.qZA()()()()()),2&o){let n;t.xp6(2),t.hij("Workflows for Employee ",r.employeeId,""),t.xp6(12),t.Q6J("ngIf","Admin"===(null==(n=r.account())?null:n.role)),t.xp6(2),t.Q6J("ngForOf",r.workflows)}},dependencies:[c.sg,c.O5,i.YN,i.Kr,i.EJ,i.JJ,i.On,c.Ts],encapsulation:2}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,i.u5,p.Bz.forChild(k)]}),e})()}}]);